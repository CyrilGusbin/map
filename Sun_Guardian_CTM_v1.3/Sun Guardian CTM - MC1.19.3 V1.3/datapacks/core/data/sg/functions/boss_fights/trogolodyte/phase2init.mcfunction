playsound music_disc.crash3 record @a ~ ~ ~ 10 1 0.5
effect clear @a darkness
playsound block.end_portal.spawn hostile @a ~ ~ ~ 5 0.6 1
scoreboard players set @s timer -20
summon zombie_villager ~ ~ ~ {Health:250f,CustomName:'{"text":"The Trogolodyte","color":"yellow"}',HandItems:[{id:"minecraft:wooden_axe",Count:1b,tag:{display:{Name:'{"text":"Cave Axe","color":"red","italic":false}'},RepairCost:100,Damage:0,Enchantments:[{id:"minecraft:knockback",lvl:2s},{id:"minecraft:looting",lvl:1s},{id:"minecraft:efficiency",lvl:4s},{id:"minecraft:unbreaking",lvl:3s}],AttributeModifiers:[{AttributeName:"generic.knockback_resistance",Name:"generic.knockback_resistance",Amount:0.15,Operation:1,UUID:[I;1255943759,1023099211,-1648336969,-1350329632],Slot:"mainhand"},{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:8,Operation:0,UUID:[I;-1102363211,-1343272738,-1568905333,1870226042],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:-3.2,Operation:0,UUID:[I;-1426031100,889408455,-1610107516,-1025289099],Slot:"mainhand"}]}},{id:"minecraft:bow",Count:1b,tag:{display:{Name:'{"text":"Cave Bow","color":"red","italic":false}'},RepairCost:100,Damage:0,Enchantments:[{id:"minecraft:unbreaking",lvl:1s},{id:"minecraft:power",lvl:1s},{id:"minecraft:punch",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.knockback_resistance",Name:"generic.knockback_resistance",Amount:0.15,Operation:1,UUID:[I;-1866596032,-1293792819,-1506602528,1294949494],Slot:"mainhand"}]}}],HandDropChances:[0.350F,0.350F],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{Name:'{"text":"Trogolodyte Boots","color":"red","italic":false}',color:8553792},RepairCost:100,Damage:0,Enchantments:[{id:"minecraft:protection",lvl:1s},{id:"minecraft:feather_falling",lvl:1s},{id:"minecraft:depth_strider",lvl:3s},{id:"minecraft:mending",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.armor",Name:"generic.armor",Amount:1,Operation:0,UUID:[I;-50859821,-1796060903,-1100215843,154812813],Slot:"feet"},{AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:1,Operation:0,UUID:[I;1538085507,325470067,-1420127196,-2121640043],Slot:"feet"},{AttributeName:"generic.movement_speed",Name:"generic.movement_speed",Amount:0.15,Operation:1,UUID:[I;-1101155829,-955102724,-2057118666,2004230627],Slot:"feet"}]}},{},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{Name:'{"text":"Trogolodyte Tunic","color":"red","italic":false}',color:8553792},RepairCost:100,Damage:0,Enchantments:[{id:"minecraft:protection",lvl:2s},{id:"minecraft:fire_protection",lvl:1s},{id:"minecraft:unbreaking",lvl:2s}],AttributeModifiers:[{AttributeName:"generic.armor",Name:"generic.armor",Amount:3,Operation:0,UUID:[I;-793632450,1010254998,-1386874117,-186332105],Slot:"chest"},{AttributeName:"generic.max_health",Name:"generic.max_health",Amount:2,Operation:0,UUID:[I;1686558895,-1371648603,-1666166383,59398227],Slot:"chest"}]}},{id:"minecraft:player_head",Count:1b,tag:{display:{Name:'{"text":"Trogolodyte Trophy","color":"blue","italic":false}'},SkullOwner:{Id:[I;1319919245,-1876406876,-1365926002,-1195274803],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjExYWI0YTBiYzJhNmUzNmQxMTJkOTdmODFhZGE3YzliM2Y4MDgyODFjYzM3ZjM4NjNlZjI4OGYxMDNkNDZjZCJ9fX0="}]}}}}],ArmorDropChances:[0.350F,0.085F,0.350F,1.000F],Attributes:[{Name:generic.max_health,Base:250},{Name:generic.movement_speed,Base:0.26}],VillagerData:{profession:"minecraft:nitwit"}}

bossbar set trogolodyte visible true
bossbar set trogolodyte players @a

execute store result bossbar trogolodyte max run data get entity @e[name="The Trogolodyte",limit=1] Health
tag @s add phase2init